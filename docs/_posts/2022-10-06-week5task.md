---
title: "C++ 文件IO"
date: 2022-10-05
layout: post
---

## Stream In Computer

> iostream, fstream, stringstream……所以stream（流）到底是个啥。

在上次的一篇文章中说到，stream的本质就是一个“线性”数据结构：所谓线性（当然不是说满足线性空间的八大条件）是指其有类似于数列的结构，你可以在上面通过**读头**`head`来顺序**访问**。

还是举个例子比较好，就拿最简单的stringstream举例子：

首先，我们考察这样的字符串

```cpp
"123 456 1.3"
```

将其作为一个stream，我们假设此时读头指向第一个字符：

```
"123 456 1.3"
 ^(head)
```

那么，其线性体现在 head 可以在其上进行移动，例如前进4位`seek(4)`：

```cpp
seek(4 /*前进 4 步*/, ios::cur /* 从当前位置开始 */)

"123 456 1.3"
     ^(head)
```

**访问**是指，可以读取当前读头下的值：

```cpp
get() // return '4'
"123 456 1.3"
      ^(head)
```

可以写入当前读头下的值：

```cpp
put('7')
"123 476 1.3"
		   ^(head)
```

通常情况下，`get`和`put`函数还会使得`head`向前前进一步。同时，为了更好的在stream上定位，其还提供获取当前位置（相对于起始位置）的方法：

```cpp
tell() // return 6
"123 456 1.3"
       ^(head)
```

总结一下，stream是这样一个线性数据结构：

1. `seek`：

